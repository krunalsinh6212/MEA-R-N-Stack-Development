{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"src/app/services/refresh.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ProductDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \"\\n\");\n  }\n}\nfunction ProductDetailsComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5)(2, \"div\", 6)(3, \"label\", 7);\n    i0.ɵɵtext(4, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h5\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\", 7);\n    i0.ɵɵtext(9, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h5\", 8);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 7);\n    i0.ɵɵtext(14, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h5\")(16, \"span\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 9)(19, \"a\", 10);\n    i0.ɵɵelement(20, \"i\", 11);\n    i0.ɵɵtext(21, \" Edit \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r3.currentProduct.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", ctx_r3.currentProduct.price, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMap(ctx_r3.currentProduct.published ? \"badge badge-success\" : \"badge badge-warning\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentProduct.published ? \"Published\" : \"Pending\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/products/\", ctx_r3.currentProduct.id, \"\");\n  }\n}\nfunction ProductDetailsComponent_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"i\", 13);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Please click on a Product...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailsComponent_div_1_div_3_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_div_3_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.updatePublished(false));\n    });\n    i0.ɵɵelement(1, \"i\", 34);\n    i0.ɵɵtext(2, \" Published \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"btn-success\", ctx_r6.currentProduct.published)(\"btn-secondary\", !ctx_r6.currentProduct.published);\n  }\n}\nfunction ProductDetailsComponent_div_1_div_3_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_div_3_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.updatePublished(true));\n    });\n    i0.ɵɵelement(1, \"i\", 35);\n    i0.ɵɵtext(2, \" Pending \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"btn-warning\", !ctx_r7.currentProduct.published)(\"btn-secondary\", ctx_r7.currentProduct.published);\n  }\n}\nfunction ProductDetailsComponent_div_1_div_3_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.message, \" \");\n  }\n}\nfunction ProductDetailsComponent_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h4\", 15);\n    i0.ɵɵtext(2, \"Edit Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\")(4, \"div\", 16)(5, \"label\", 17);\n    i0.ɵɵtext(6, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailsComponent_div_1_div_3_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.currentProduct.title = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 16)(9, \"label\", 19);\n    i0.ɵɵtext(10, \"Price (Rs.)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 20)(12, \"div\", 21)(13, \"span\", 22);\n    i0.ɵɵtext(14, \"\\u20B9\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailsComponent_div_1_div_3_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.currentProduct.price = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"label\");\n    i0.ɵɵtext(18, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 24);\n    i0.ɵɵtemplate(20, ProductDetailsComponent_div_1_div_3_button_20_Template, 3, 4, \"button\", 25);\n    i0.ɵɵtemplate(21, ProductDetailsComponent_div_1_div_3_button_21_Template, 3, 4, \"button\", 26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 27)(23, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_div_3_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.deleteProduct());\n    });\n    i0.ɵɵelement(24, \"i\", 29);\n    i0.ɵɵtext(25, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_div_3_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.updateProduct());\n    });\n    i0.ɵɵelement(27, \"i\", 31);\n    i0.ɵɵtext(28, \" Update \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(29, ProductDetailsComponent_div_1_div_3_div_29_Template, 2, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentProduct.title);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentProduct.price);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.currentProduct.published);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.currentProduct.published);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.message);\n  }\n}\nfunction ProductDetailsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductDetailsComponent_div_1_div_1_Template, 22, 6, \"div\", 1);\n    i0.ɵɵtemplate(2, ProductDetailsComponent_div_1_div_2_Template, 4, 0, \"div\", 2);\n    i0.ɵɵtemplate(3, ProductDetailsComponent_div_1_div_3_Template, 30, 5, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.currentProduct.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.currentProduct.id && !ctx_r1.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.currentProduct.id);\n  }\n}\nfunction ProductDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"i\", 37);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Select a product to view details...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ProductDetailsComponent {\n  constructor(productService, refreshService, route, router) {\n    this.productService = productService;\n    this.refreshService = refreshService;\n    this.route = route;\n    this.router = router;\n    this.viewMode = false;\n    this.currentProduct = {\n      title: '',\n      price: 0,\n      published: false\n    };\n    this.message = '';\n    this.error = '';\n  }\n  ngOnInit() {\n    if (!this.viewMode) {\n      this.message = '';\n      this.error = '';\n      this.getProduct(this.route.snapshot.params[\"id\"]);\n    }\n  }\n  getProduct(id) {\n    this.productService.get(id).subscribe({\n      next: data => {\n        this.currentProduct = data;\n        console.log(data);\n      },\n      error: e => {\n        console.error(e);\n        this.error = e.error?.message || 'Error accessing the product';\n        this.currentProduct = null;\n      }\n    });\n  }\n  updatePublished(status) {\n    if (!this.currentProduct) return;\n    const data = {\n      title: this.currentProduct.title,\n      price: this.currentProduct.price,\n      published: status\n    };\n    this.productService.update(this.currentProduct.id, data).subscribe({\n      next: res => {\n        console.log(res);\n        if (this.currentProduct) {\n          this.currentProduct.published = status;\n        }\n        this.message = res.message || 'The status was updated successfully!';\n      },\n      error: e => {\n        console.error(e);\n        this.error = e.error?.message || 'Error updating the product status';\n      }\n    });\n  }\n  updateProduct() {\n    if (!this.currentProduct) return;\n    this.message = '';\n    this.error = '';\n    this.productService.update(this.currentProduct.id, this.currentProduct).subscribe({\n      next: res => {\n        console.log(res);\n        this.message = res.message || 'This product was updated successfully!';\n      },\n      error: e => {\n        console.error(e);\n        this.error = e.error?.message || 'Error updating the product';\n      }\n    });\n  }\n  deleteProduct() {\n    if (!this.currentProduct) return;\n    if (confirm('Are you sure you want to delete this product?')) {\n      this.productService.delete(this.currentProduct.id).subscribe({\n        next: res => {\n          console.log(res);\n          this.message = 'Product was deleted successfully!';\n          setTimeout(() => {\n            this.refreshService.triggerRefresh();\n            this.router.navigate(['/products']);\n          }, 1000);\n        },\n        error: e => {\n          console.error(e);\n          this.error = e.error?.message || 'Error deleting the product';\n        }\n      });\n    }\n  }\n}\nProductDetailsComponent.ɵfac = function ProductDetailsComponent_Factory(t) {\n  return new (t || ProductDetailsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.RefreshService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nProductDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductDetailsComponent,\n  selectors: [[\"app-product-details\"]],\n  inputs: {\n    viewMode: \"viewMode\",\n    currentProduct: \"currentProduct\"\n  },\n  decls: 3,\n  vars: 3,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"text-center mt-4\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [\"class\", \"edit-form\", 4, \"ngIf\"], [1, \"product-info\", \"mb-4\"], [1, \"info-item\"], [1, \"text-muted\"], [1, \"text-success\"], [1, \"action-buttons\", \"mb-4\"], [1, \"btn\", \"btn-warning\", 3, \"routerLink\"], [1, \"fas\", \"fa-edit\"], [1, \"text-center\", \"mt-4\"], [1, \"fas\", \"fa-hand-point-up\", \"fa-2x\", \"mb-2\"], [1, \"edit-form\"], [1, \"mb-4\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"required\", \"\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"type\", \"number\", \"id\", \"price\", \"required\", \"\", \"name\", \"price\", \"min\", \"0\", \"step\", \"0.01\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"align-items-center\", \"mt-2\"], [\"class\", \"btn btn-sm mr-2\", 3, \"btn-success\", \"btn-secondary\", \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-sm mr-2\", 3, \"btn-warning\", \"btn-secondary\", \"click\", 4, \"ngIf\"], [1, \"button-group\", \"mt-4\"], [1, \"btn\", \"btn-danger\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fas\", \"fa-save\"], [\"class\", \"alert alert-success mt-4\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-toggle-on\"], [1, \"fas\", \"fa-toggle-off\"], [1, \"alert\", \"alert-success\", \"mt-4\"], [1, \"fas\", \"fa-box-open\", \"fa-3x\", \"mb-3\", \"text-muted\"]],\n  template: function ProductDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductDetailsComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(1, ProductDetailsComponent_div_1_Template, 4, 3, \"div\", 1);\n      i0.ɵɵtemplate(2, ProductDetailsComponent_div_2_Template, 4, 0, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentProduct);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.currentProduct && !ctx.error);\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n  styles: [\".edit-form[_ngcontent-%COMP%] {\\r\\n  max-width: 300px;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n.submit-form[_ngcontent-%COMP%] {\\r\\n  max-width: 300px;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n.product-info[_ngcontent-%COMP%] {\\r\\n  padding: 20px;\\r\\n  background-color: #f8f9fa;\\r\\n  border-radius: 8px;\\r\\n}\\r\\n\\r\\n.info-item[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.info-item[_ngcontent-%COMP%]:last-child {\\r\\n  margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  margin-bottom: 5px;\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.info-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\r\\n  margin: 0;\\r\\n  color: #2c3e50;\\r\\n}\\r\\n\\r\\n.action-buttons[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.form-group[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.form-control[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #ced4da;\\r\\n  border-radius: 4px;\\r\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\r\\n}\\r\\n\\r\\n.form-control[_ngcontent-%COMP%]:focus {\\r\\n  border-color: #80bdff;\\r\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\r\\n}\\r\\n\\r\\n.input-group-text[_ngcontent-%COMP%] {\\r\\n  background-color: #f8f9fa;\\r\\n  border: 1px solid #ced4da;\\r\\n}\\r\\n\\r\\n.button-group[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  gap: 10px;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\r\\n  display: inline-flex;\\r\\n  align-items: center;\\r\\n  gap: 5px;\\r\\n  padding: 8px 16px;\\r\\n  border-radius: 4px;\\r\\n  transition: all 0.2s;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:hover {\\r\\n  transform: translateY(-1px);\\r\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.badge[_ngcontent-%COMP%] {\\r\\n  padding: 8px 12px;\\r\\n  font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.badge-success[_ngcontent-%COMP%] {\\r\\n  background-color: #28a745;\\r\\n}\\r\\n\\r\\n.badge-warning[_ngcontent-%COMP%] {\\r\\n  background-color: #ffc107;\\r\\n  color: #000;\\r\\n}\\r\\n\\r\\n.alert[_ngcontent-%COMP%] {\\r\\n  border-radius: 4px;\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.text-center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  color: #6c757d;\\r\\n  margin-bottom: 10px;\\r\\n}\\n/*# sourceURL=webpack://./src/app/components/product-details/product-details.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0LWRldGFpbHMvcHJvZHVjdC1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsd0VBQXdFO0FBQzFFOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGdEQUFnRDtBQUNsRDs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6Qix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztBQUNYOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixRQUFRO0VBQ1IsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0Isd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5lZGl0LWZvcm0ge1xyXG4gIG1heC13aWR0aDogMzAwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4uc3VibWl0LWZvcm0ge1xyXG4gIG1heC13aWR0aDogMzAwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4ucHJvZHVjdC1pbmZvIHtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG59XHJcblxyXG4uaW5mby1pdGVtIHtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uaW5mby1pdGVtOmxhc3QtY2hpbGQge1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbn1cclxuXHJcbi5pbmZvLWl0ZW0gbGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1ib3R0b206IDVweDtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxufVxyXG5cclxuLmluZm8taXRlbSBoNSB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiAjMmMzZTUwO1xyXG59XHJcblxyXG4uYWN0aW9uLWJ1dHRvbnMge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbi5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gIGJvcmRlci1jb2xvcjogIzgwYmRmZjtcclxuICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSgwLCAxMjMsIDI1NSwgMC4yNSk7XHJcbn1cclxuXHJcbi5pbnB1dC1ncm91cC10ZXh0IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7XHJcbn1cclxuXHJcbi5idXR0b24tZ3JvdXAge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAxMHB4O1xyXG59XHJcblxyXG4uYnRuIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogNXB4O1xyXG4gIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxufVxyXG5cclxuLmJ0biBpIHtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxufVxyXG5cclxuLmJ0bjpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi5iYWRnZSB7XHJcbiAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbn1cclxuXHJcbi5iYWRnZS1zdWNjZXNzIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1O1xyXG59XHJcblxyXG4uYmFkZ2Utd2FybmluZyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYzEwNztcclxuICBjb2xvcjogIzAwMDtcclxufVxyXG5cclxuLmFsZXJ0IHtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5cclxuLnRleHQtY2VudGVyIGkge1xyXG4gIGNvbG9yOiAjNmM3NTdkO1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductDetailsComponent","constructor","productService","refreshService","route","router","title","price","published","ngOnInit","viewMode","message","error","getProduct","snapshot","params","id","get","subscribe","next","data","currentProduct","console","log","e","updatePublished","status","update","res","updateProduct","deleteProduct","confirm","delete","setTimeout","triggerRefresh","navigate","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\MEAN-stack\\Angular_crud\\frontend\\src\\app\\components\\product-details\\product-details.component.html","D:\\MEAN-stack\\Angular_crud\\frontend\\src\\app\\components\\product-details\\product-details.component.ts"],"sourcesContent":["<div *ngIf=\"error\" class=\"alert alert-danger\">\r\n  {{ error }}\r\n</div>\r\n\r\n<div *ngIf=\"currentProduct\">\r\n  <div *ngIf=\"currentProduct.id\">\r\n    <div class=\"product-info mb-4\">\r\n      <div class=\"info-item\">\r\n        <label class=\"text-muted\">Title</label>\r\n        <h5>{{ currentProduct.title }}</h5>\r\n      </div>\r\n      <div class=\"info-item\">\r\n        <label class=\"text-muted\">Price</label>\r\n        <h5 class=\"text-success\">₹{{ currentProduct.price }}</h5>\r\n      </div>\r\n      <div class=\"info-item\">\r\n        <label class=\"text-muted\">Status</label>\r\n        <h5>\r\n          <span [class]=\"currentProduct.published ? 'badge badge-success' : 'badge badge-warning'\">\r\n            {{ currentProduct.published ? \"Published\" : \"Pending\" }}\r\n          </span>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"action-buttons mb-4\">\r\n      <a\r\n        class=\"btn btn-warning\"\r\n        routerLink=\"/products/{{ currentProduct.id }}\"\r\n      >\r\n        <i class=\"fas fa-edit\"></i> Edit\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"!currentProduct.id && !error\" class=\"text-center mt-4\">\r\n    <i class=\"fas fa-hand-point-up fa-2x mb-2\"></i>\r\n    <p>Please click on a Product...</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"currentProduct.id\" class=\"edit-form\">\r\n    <h4 class=\"mb-4\">Edit Product</h4>\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"title\">Title</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"title\"\r\n          required\r\n          [(ngModel)]=\"currentProduct.title\"\r\n          name=\"title\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"price\">Price (Rs.)</label>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\">₹</span>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"price\"\r\n            required\r\n            [(ngModel)]=\"currentProduct.price\"\r\n            name=\"price\"\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Status</label>\r\n        <div class=\"d-flex align-items-center mt-2\">\r\n          <button\r\n            class=\"btn btn-sm mr-2\"\r\n            [class.btn-success]=\"currentProduct.published\"\r\n            [class.btn-secondary]=\"!currentProduct.published\"\r\n            *ngIf=\"currentProduct.published\"\r\n            (click)=\"updatePublished(false)\"\r\n          >\r\n            <i class=\"fas fa-toggle-on\"></i> Published\r\n          </button>\r\n          <button\r\n            class=\"btn btn-sm mr-2\"\r\n            [class.btn-warning]=\"!currentProduct.published\"\r\n            [class.btn-secondary]=\"currentProduct.published\"\r\n            *ngIf=\"!currentProduct.published\"\r\n            (click)=\"updatePublished(true)\"\r\n          >\r\n            <i class=\"fas fa-toggle-off\"></i> Pending\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div class=\"button-group mt-4\">\r\n      <button class=\"btn btn-danger mr-2\" (click)=\"deleteProduct()\">\r\n        <i class=\"fas fa-trash\"></i> Delete\r\n      </button>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-success\"\r\n        (click)=\"updateProduct()\"\r\n      >\r\n        <i class=\"fas fa-save\"></i> Update\r\n      </button>\r\n    </div>\r\n    \r\n    <div *ngIf=\"message\" class=\"alert alert-success mt-4\">\r\n      {{ message }}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"!currentProduct && !error\" class=\"text-center mt-4\">\r\n  <i class=\"fas fa-box-open fa-3x mb-3 text-muted\"></i>\r\n  <p>Select a product to view details...</p>\r\n</div> ","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ProductService } from 'src/app/services/product.service';\r\nimport { RefreshService } from 'src/app/services/refresh.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Product } from 'src/app/models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-details',\r\n  templateUrl: './product-details.component.html',\r\n  styleUrls: ['./product-details.component.css']\r\n})\r\nexport class ProductDetailsComponent implements OnInit {\r\n  @Input() viewMode = false;\r\n  @Input() currentProduct: Product | null = {\r\n    title: '',\r\n    price: 0,\r\n    published: false\r\n  };\r\n  \r\n  message = '';\r\n  error = '';\r\n\r\n  constructor(\r\n    private productService: ProductService,\r\n    private refreshService: RefreshService,\r\n    private route: ActivatedRoute,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.viewMode) {\r\n      this.message = '';\r\n      this.error = '';\r\n      this.getProduct(this.route.snapshot.params[\"id\"]);\r\n    }\r\n  }\r\n\r\n  getProduct(id: string): void {\r\n    this.productService.get(id)\r\n      .subscribe({\r\n        next: (data) => {\r\n          this.currentProduct = data;\r\n          console.log(data);\r\n        },\r\n        error: (e) => {\r\n          console.error(e);\r\n          this.error = e.error?.message || 'Error accessing the product';\r\n          this.currentProduct = null;\r\n        }\r\n      });\r\n  }\r\n\r\n  updatePublished(status: boolean): void {\r\n    if (!this.currentProduct) return;\r\n\r\n    const data = {\r\n      title: this.currentProduct.title,\r\n      price: this.currentProduct.price,\r\n      published: status\r\n    };\r\n\r\n    this.productService.update(this.currentProduct.id, data)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          if (this.currentProduct) {\r\n            this.currentProduct.published = status;\r\n          }\r\n          this.message = res.message || 'The status was updated successfully!';\r\n        },\r\n        error: (e) => {\r\n          console.error(e);\r\n          this.error = e.error?.message || 'Error updating the product status';\r\n        }\r\n      });\r\n  }\r\n\r\n  updateProduct(): void {\r\n    if (!this.currentProduct) return;\r\n    \r\n    this.message = '';\r\n    this.error = '';\r\n\r\n    this.productService.update(this.currentProduct.id, this.currentProduct)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.message = res.message || 'This product was updated successfully!';\r\n        },\r\n        error: (e) => {\r\n          console.error(e);\r\n          this.error = e.error?.message || 'Error updating the product';\r\n        }\r\n      });\r\n  }\r\n\r\n  deleteProduct(): void {\r\n    if (!this.currentProduct) return;\r\n\r\n    if (confirm('Are you sure you want to delete this product?')) {\r\n      this.productService.delete(this.currentProduct.id)\r\n        .subscribe({\r\n          next: (res) => {\r\n            console.log(res);\r\n            this.message = 'Product was deleted successfully!';\r\n            setTimeout(() => {\r\n              this.refreshService.triggerRefresh();\r\n              this.router.navigate(['/products']);\r\n            }, 1000);\r\n          },\r\n          error: (e) => {\r\n            console.error(e);\r\n            this.error = e.error?.message || 'Error deleting the product';\r\n          }\r\n        });\r\n    }\r\n  }\r\n} "]},"metadata":{},"sourceType":"module","externalDependencies":[]}