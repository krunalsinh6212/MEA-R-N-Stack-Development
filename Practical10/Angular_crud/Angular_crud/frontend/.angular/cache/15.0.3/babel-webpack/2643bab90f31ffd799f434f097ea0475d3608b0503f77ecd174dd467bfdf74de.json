{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AddProductComponent_div_2_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Title is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddProductComponent_div_2_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Price is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddProductComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 3, 4);\n    i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_div_2_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.saveProduct());\n    });\n    i0.ɵɵelementStart(3, \"div\", 5)(4, \"label\", 6);\n    i0.ɵɵtext(5, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 7, 8);\n    i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.product.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AddProductComponent_div_2_div_8_Template, 2, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\", 10);\n    i0.ɵɵtext(11, \"Price (Rs.)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 11, 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_div_2_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.product.price = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, AddProductComponent_div_2_div_14_Template, 2, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 13);\n    i0.ɵɵtext(16, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(2);\n    const _r4 = i0.ɵɵreference(7);\n    const _r6 = i0.ɵɵreference(13);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r4.invalid && _r4.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r6.invalid && _r6.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !_r3.form.valid);\n  }\n}\nfunction AddProductComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2, \"Product was submitted successfully!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AddProductComponent_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newProduct());\n    });\n    i0.ɵɵtext(4, \"Add\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddProductComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nexport class AddProductComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.product = {\n      title: '',\n      price: 0,\n      published: false\n    };\n    this.submitted = false;\n    this.error = '';\n  }\n  saveProduct() {\n    const data = {\n      title: this.product.title,\n      price: this.product.price,\n      published: false\n    };\n    this.productService.create(data).subscribe({\n      next: res => {\n        console.log(res);\n        this.submitted = true;\n        setTimeout(() => {\n          this.router.navigate(['/products']);\n        }, 2000);\n      },\n      error: e => {\n        console.error(e);\n        this.error = e.error?.message || 'An error occurred while creating the product.';\n      }\n    });\n  }\n  newProduct() {\n    this.submitted = false;\n    this.error = '';\n    this.product = {\n      title: '',\n      price: 0,\n      published: false\n    };\n  }\n}\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n};\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  decls: 5,\n  vars: 3,\n  consts: [[1, \"submit-form\"], [4, \"ngIf\"], [\"class\", \"alert alert-danger mt-3\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"productForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"required\", \"\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"title\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"required\", \"\", \"name\", \"price\", \"min\", \"0\", \"step\", \"0.01\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"price\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [1, \"alert\", \"alert-danger\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"alert\", \"alert-danger\", \"mt-3\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0);\n      i0.ɵɵtemplate(2, AddProductComponent_div_2_Template, 17, 5, \"div\", 1);\n      i0.ɵɵtemplate(3, AddProductComponent_div_3_Template, 5, 0, \"div\", 1);\n      i0.ɵɵtemplate(4, AddProductComponent_div_4_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.submitted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinValidator, i4.NgModel, i4.NgForm],\n  styles: [\".submit-form[_ngcontent-%COMP%] {\\r\\n  max-width: 300px;\\r\\n  margin: auto;\\r\\n}\\n/*# sourceURL=webpack://./src/app/components/add-product/add-product.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZGQtcHJvZHVjdC9hZGQtcHJvZHVjdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7QUFDZCIsInNvdXJjZXNDb250ZW50IjpbIi5zdWJtaXQtZm9ybSB7XHJcbiAgbWF4LXdpZHRoOiAzMDBweDtcclxuICBtYXJnaW46IGF1dG87XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAeUA,+BAAuE;IACrEA,oCACF;IAAAA,iBAAM;;;;;IAgBNA,+BAAuE;IACrEA,oCACF;IAAAA,iBAAM;;;;;;IAjCZA,2BAAwB;IACMA;MAAAA;MAAA;MAAA,OAAYA,mCAAa;IAAA,EAAC;IACpDA,8BAAwB;IACHA,qBAAK;IAAAA,iBAAQ;IAChCA,mCAQE;IAHAA;MAAAA;MAAA;MAAA,OAAaA,8CACpB;IAAA,EADkC;IAL7BA,iBAQE;IACFA,0EAEM;IACRA,iBAAM;IAENA,8BAAwB;IACHA,4BAAW;IAAAA,iBAAQ;IACtCA,sCAUE;IALAA;MAAAA;MAAA;MAAA,OAAaA,8CACpB;IAAA,EADkC;IAL7BA,iBAUE;IACFA,4EAEM;IACRA,iBAAM;IAENA,mCAAmF;IAAAA,uBAAM;IAAAA,iBAAS;;;;;;;IA3B9FA,eAA2B;IAA3BA,8CAA2B;IAIIA,eAAoC;IAApCA,iDAAoC;IAYnEA,eAA2B;IAA3BA,8CAA2B;IAMIA,eAAoC;IAApCA,iDAAoC;IAKzBA,eAAoC;IAApCA,0CAAoC;;;;;;IAItFA,2BAAuB;IACjBA,mDAAmC;IAAAA,iBAAK;IAC5CA,kCAAuD;IAAvBA;MAAAA;MAAA;MAAA,OAASA,mCAAY;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;;;;;IAGrEA,+BAAmD;IACjDA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;ACvCJ,OAAM,MAAOC,mBAAmB;EAS9BC,YACUC,cAA8B,EAC9BC,MAAc;IADd,mBAAc,GAAdD,cAAc;IACd,WAAM,GAANC,MAAM;IAVhB,YAAO,GAAY;MACjBC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE;KACZ;IACD,cAAS,GAAG,KAAK;IACjB,UAAK,GAAG,EAAE;EAKN;EAEJC,WAAW;IACT,MAAMC,IAAI,GAAG;MACXJ,KAAK,EAAE,IAAI,CAACK,OAAO,CAACL,KAAK;MACzBC,KAAK,EAAE,IAAI,CAACI,OAAO,CAACJ,KAAK;MACzBC,SAAS,EAAE;KACZ;IAED,IAAI,CAACJ,cAAc,CAACQ,MAAM,CAACF,IAAI,CAAC,CAC7BG,SAAS,CAAC;MACTC,IAAI,EAAGC,GAAG,IAAI;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAI,CAACG,SAAS,GAAG,IAAI;QACrBC,UAAU,CAAC,MAAK;UACd,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC,EAAE,IAAI,CAAC;MACV,CAAC;MACDC,KAAK,EAAGC,CAAC,IAAI;QACXN,OAAO,CAACK,KAAK,CAACC,CAAC,CAAC;QAChB,IAAI,CAACD,KAAK,GAAGC,CAAC,CAACD,KAAK,EAAEE,OAAO,IAAI,+CAA+C;MAClF;KACD,CAAC;EACN;EAEAC,UAAU;IACR,IAAI,CAACN,SAAS,GAAG,KAAK;IACtB,IAAI,CAACG,KAAK,GAAG,EAAE;IACf,IAAI,CAACV,OAAO,GAAG;MACbL,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE;KACZ;EACH;;AA7CWN,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVhC5B,2BAAK;MAEDA,qEAsCM;MAENA,oEAGM;MAENA,oEAEM;MACRA,iBAAM;;;MAhDEA,eAAgB;MAAhBA,qCAAgB;MAwChBA,eAAe;MAAfA,oCAAe;MAKfA,eAAW;MAAXA,gCAAW","names":["i0","AddProductComponent","constructor","productService","router","title","price","published","saveProduct","data","product","create","subscribe","next","res","console","log","submitted","setTimeout","navigate","error","e","message","newProduct","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\NodePractice\\Practical10\\Angular_crud\\Angular_crud\\frontend\\src\\app\\components\\add-product\\add-product.component.html","E:\\NodePractice\\Practical10\\Angular_crud\\Angular_crud\\frontend\\src\\app\\components\\add-product\\add-product.component.ts"],"sourcesContent":["<div>\r\n  <div class=\"submit-form\">\r\n    <div *ngIf=\"!submitted\">\r\n      <form #productForm=\"ngForm\" (ngSubmit)=\"saveProduct()\">\r\n        <div class=\"form-group\">\r\n          <label for=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"title\"\r\n            required\r\n            [(ngModel)]=\"product.title\"\r\n            name=\"title\"\r\n            #title=\"ngModel\"\r\n          />\r\n          <div class=\"alert alert-danger\" *ngIf=\"title.invalid && title.touched\">\r\n            Title is required.\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"price\">Price (Rs.)</label>\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"price\"\r\n            required\r\n            [(ngModel)]=\"product.price\"\r\n            name=\"price\"\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n            #price=\"ngModel\"\r\n          />\r\n          <div class=\"alert alert-danger\" *ngIf=\"price.invalid && price.touched\">\r\n            Price is required.\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!productForm.form.valid\">Submit</button>\r\n      </form>\r\n    </div>\r\n\r\n    <div *ngIf=\"submitted\">\r\n      <h4>Product was submitted successfully!</h4>\r\n      <button class=\"btn btn-success\" (click)=\"newProduct()\">Add</button>\r\n    </div>\r\n\r\n    <div *ngIf=\"error\" class=\"alert alert-danger mt-3\">\r\n      {{ error }}\r\n    </div>\r\n  </div>\r\n</div> ","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Product } from 'src/app/models/product.model';\r\nimport { ProductService } from 'src/app/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-add-product',\r\n  templateUrl: './add-product.component.html',\r\n  styleUrls: ['./add-product.component.css']\r\n})\r\nexport class AddProductComponent {\r\n  product: Product = {\r\n    title: '',\r\n    price: 0,\r\n    published: false\r\n  };\r\n  submitted = false;\r\n  error = '';\r\n\r\n  constructor(\r\n    private productService: ProductService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  saveProduct(): void {\r\n    const data = {\r\n      title: this.product.title,\r\n      price: this.product.price,\r\n      published: false\r\n    };\r\n\r\n    this.productService.create(data)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.submitted = true;\r\n          setTimeout(() => {\r\n            this.router.navigate(['/products']);\r\n          }, 2000);\r\n        },\r\n        error: (e) => {\r\n          console.error(e);\r\n          this.error = e.error?.message || 'An error occurred while creating the product.';\r\n        }\r\n      });\r\n  }\r\n\r\n  newProduct(): void {\r\n    this.submitted = false;\r\n    this.error = '';\r\n    this.product = {\r\n      title: '',\r\n      price: 0,\r\n      published: false\r\n    };\r\n  }\r\n} "]},"metadata":{},"sourceType":"module","externalDependencies":[]}