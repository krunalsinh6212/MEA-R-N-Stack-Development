<div class="container mt-4">
  <div class="row">
    <!-- Search Bar -->
    <div class="col-12 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              placeholder="Search products by title..."
              [(ngModel)]="title"
            />
            <div class="input-group-append">
              <button
                class="btn btn-primary"
                (click)="searchTitle()"
              >
                <i class="fas fa-search"></i> Search
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Products List -->
    <div class="col-md-7">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h4 class="mb-0">Products List</h4>
          <button class="btn btn-danger btn-sm" (click)="removeAllProducts()">
            <i class="fas fa-trash"></i> Remove All
          </button>
        </div>
        <div class="card-body">
          <div class="list-group">
            <div
              *ngFor="let product of products; let i = index"
              class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
              [class.active]="i == currentIndex"
              (click)="setActiveProduct(product, i)"
            >
              <div>
                <h5 class="mb-1">{{ product.title }}</h5>
                <p class="mb-1">â‚¹{{ product.price }}</p>
                <small class="text-muted">
                  Status: {{ product.published ? "Published" : "Pending" }}
                </small>
              </div>
              <div class="btn-group">
                <button 
                  class="btn btn-danger btn-sm" 
                  (click)="deleteProduct(product.id); $event.stopPropagation();"
                >
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
          
          <div *ngIf="!products?.length" class="text-center mt-3">
            <p>No products found</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Product Details -->
    <div class="col-md-5">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Product Details</h4>
        </div>
        <div class="card-body">
          <app-product-details
            [viewMode]="true"
            [currentProduct]="currentProduct"
          ></app-product-details>
        </div>
      </div>
    </div>
  </div>
</div> 